\chapter{Implementace}

TODO: Popis implementace/realizace se zaměřením na nestandardní části řešení.

\section{Specifikace pravidel požadovaných zadáním práce}
Pro specifikaci Demeter law definujeme predikát, který nám umožní vybrat vhodné množiny vrcholů. Vybrané množiny potom ověřeíme pomocí predikátu, který učí, zda jsou tyto množiny v pořádku, či zda porušují LoD princip.

\begin{definition}
Mějme graf $G = \langle V, E, \rho, K, C, \mathit{Kind}, \mathit{Class}\rangle$ se zobrazeními definovanými dříve. Definujme selektor $F(G, v', k', c')$, $v' \in V$, $k' \in K$, $c' \in C$ jako množinu vrcholů grafu $G$, které jsou dostupné z vrcholu $v'$ pomocí orientované cesty, pro jejíž všechny vrcholy $v''$ s výjimou posledního platí $Kind(v) \ne k'$ a která obsahuje hranu $e$, pro niž platí $Class(e) = c' $.
\end{definition}

\subsection{Demeter law}
TODO: definovat konkretni graf, ktery lze pouzit pro analyzu LoD

Mějme existující graf $G = \langle V, E, \rho, K, C, \mathit{Kind}, \mathit{Class}\rangle$

\begin{align*}
\forall v \in V: Kind(v) = class\\
\end{align*}
\begin{align*}
[((&F(G, v, class, has\_field) \cup F(G, v class, has\_param) \cup\\
&F(G, v, class, instantiates)) \cap F(v, class, uses) \setminus v] = \emptyset
\end{align*}

TODO: Demeter, low coupling, high cohesion rules in designed formalism

\section{Implementace jádra systému}
TODO: describe technologies used to implement parser and analysis part
\begin{itemize}
\item Java 6 Compiler API (JSR 199) \emph{\{TODO: add reference\}}
\item annotation processor (JSR 269) \emph{\{TODO: add reference\}}
\item Compiler Tree API
  \begin{itemize}
  \item \verb+com.sun.source.tree+ 
  \item \verb+com.sun.source.util+
  \end{itemize}
\end{itemize}

TODO: zapracovat:

je nutné použít nestandardní API, které je součástí Sun Javy - balíčky \verb+com.sun.*+ (je potřeba přidat \$\{java\_home\}/../lib/tools.jar do classpath)

lze se inspirovat v programu Sorcerer (\href{https://sorcerer.dev.java.net/}{https://sorcerer.dev.java.net/}), který pomocí Java Tree API provádí zpracovávání Java kódu a generování přesné HTML dokumentace. \emph{TODO: in case of usage of this material, add reference!}
